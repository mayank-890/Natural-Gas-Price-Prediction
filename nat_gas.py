# -*- coding: utf-8 -*-
"""Nat_Gas.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1diO7bq16X2QDBb93pLax5uyGCBtEKIW4
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.linear_model import LinearRegression
from datetime import datetime

df = pd.read_csv('/content/Nat_Gas.csv')
df['Dates'] = pd.to_datetime(df['Dates'], format='%m/%d/%y')

X = (df['Dates'] - df['Dates'].min()).dt.days.values.reshape(-1, 1)
y = df['Prices'].values

#Training the Linear Regression Model
model = LinearRegression()
model.fit(X, y)

def estimate_price(date_str):
    """
    Estimate the natural gas price for a given date.
    Input format: 'YYYY-MM-DD'
    """
    date = pd.to_datetime(date_str)
    days = (date - df['Dates'].min()).days
    price = model.predict(np.array([[days]]))[0]
    return round(price, 2)

# Create future dates for the next year
future_dates = pd.date_range(df['Dates'].max(), df['Dates'].max() + pd.DateOffset(years=1), freq='M')
future_X = (future_dates - df['Dates'].min()).days.values.reshape(-1, 1)
future_prices = model.predict(future_X)

plt.figure(figsize=(10, 5))
plt.plot(df['Dates'], y, label='Actual Prices', marker='o')
plt.plot(future_dates, future_prices, label='Predicted (Next 1 Year)', linestyle='--', color='orange')
plt.xlabel("Date")
plt.ylabel("Natural Gas Price")
plt.title("Natural Gas Price Trend and Forecast")
plt.legend()
plt.grid(True)
plt.show()

date_input = input("Enter a date (YYYY-MM-DD): ")
predicted_price = estimate_price(date_input)
print(f"Estimated Natural Gas Price on {date_input}: â‚¹{predicted_price}")

